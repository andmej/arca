class LoginController < ApplicationController
  def agregar_usuario
    @usuario = Usuario.new(params[:usuario])
    if request.post? and @usuario.save
      flash[:notice] = "Usuario #{@usuario.nombre} creado"
      @usuario = Usuario.new
    end
  end

  def login
    session[:usuario_id] = nil
    if request.post?
      usuario = Usuario.authenticate(params[:nombre], params[:clave])
      if usuario
        session[:usuario_id] = usuario.id
        redirect_to(:action => "index" )
      else
        flash[:notice] = "Combinaci√≥n invalida usuario/clave"
      end
    end
  end
  
  def logout
  end

  def index
  end

  def borrar_usuario
  end

  def lista_usarios
  end
end
